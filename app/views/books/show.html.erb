<% provide :title, t(".book_title") %>
<p>
  <h1><%= t ".book_info" %></h1>

  <div class="row">
    <div class="col-md-3">
      <b class="book_show"><%= image_tag @book.book_img_file_name.url %></b>
      <div class="links btn-group eud-book">
        <center>
          <%= link_to t(".back"), books_path, class: "btn btn-custom" %>
          <% if logged_in? && current_user.admin? %>
              <%= link_to t(".edit"), edit_book_path(@book), class: "btn btn-custom" %>
              <%= link_to t(".delete"), @book, method: :delete,
                data: {confirm: t(".delete_confirm")}, class: "btn btn-custom" %>
          <% end %>
        </center>
      </div>
    </div>

    <div class="col-md-9">
      <div class="book-info">
        <h1 class="book-title"><%= @book.title %></h1>
        <h4 class="book-author">
          <span><%= t ".content_1" %></span><%= @book.author %></h4>
        <h5 class="avg-rating"><%= t ".content_2" %></h5>
        <div class="review-rating" data-score=<%= @average_review %>></div>
        <span class="number-of-reviews">
          <%= t(:review_count, count: @book.reviews.size) %></span>
        <h4 class="book-category"><%= t ".content_4" %><%= @book.name %></h4>
        <p class="book-desc"><%= @book.description %></p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="reviews">
        <% if logged_in? && has_not_reviewed? %>
          <%= render partial: "reviews/form", locals: {review: Review.new(book: @book)} %>
        <% end %>
        <h4><%= t ".content_5" %></h4>
        <% if @book.reviews.count > 0 %>
          <%= link_to t(".content_6"), book_reviews_path(@book) %>
          <%= render @book.reviews %>
        <% else %>
          <%= t ".content_7" %>
        <% end %>
      </div>
    </div>
  </div>
</p>
